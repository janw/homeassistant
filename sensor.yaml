# Sensors and other inputs

  - platform: darksky
    api_key: !secret darksky_api_key
    monitored_conditions:
      - summary
      - icon
      - precip_intensity
      - precip_probability
      - temperature
      - dew_point
      - wind_speed
      - cloud_cover
      - humidity
      - pressure


  - platform: template
    sensors:
      sunrise:
        value_template: '{{ states.sun.sun.attributes.next_rising }}'
      sunset:
        value_template: '{{ states.sun.sun.attributes.next_setting }}'
      current_title:
        friendly_name: 'Current Title'
        value_template: '{{ states.media_player.apple_tv.attributes.media_title }}'

      living_room_temperature:
        friendly_name: 'Living Room Temperature'
        value_template: '{{ states.sensor.grunlilie_temperature.state | float }}'
      living_room_stereo_watts:
        value_template: '{{ states.switch.living_room_stereo.attributes["Current consumption"] | replace(" W", "") | default(0) | float }}'
        unit_of_measurement: 'W'


  - platform: mqtt
    state_topic: 'home/bedroom'
    name: 'Bedroom Temperature'
    unit_of_measurement: '°C'
    value_template: '{{ value_json.temperature }}'

  - platform: mqtt
    state_topic: 'home/bedroom'
    name: 'Bedroom Humidity'
    unit_of_measurement: '%'
    value_template: '{{ value_json.humidity }}'



  - platform: mqtt
    state_topic: 'home/bathroom'
    name: 'Bathroom Temperature'
    unit_of_measurement: '°C'
    value_template: '{{ value_json.temperature }}'
    
  - platform: mqtt
    state_topic: 'home/bathroom'
    name: 'Bathroom Humidity'
    unit_of_measurement: '%'
    value_template: '{{ value_json.humidity }}'


    
  - platform: mqtt
    state_topic: 'miflora/drachenbaum'
    name: 'Drachenbaum Moisture'
    unit_of_measurement: '%'
    value_template: '{{ value_json.moisture }}'

  - platform: mqtt
    state_topic: 'miflora/drachenbaum'
    name: 'Drachenbaum Light'
    unit_of_measurement: 'lx'
    value_template: '{{ value_json.light }}'


    
  - platform: mqtt
    state_topic: 'miflora/gruenlilie'
    name: 'Grünlilie Moisture'
    unit_of_measurement: '%'
    value_template: '{{ value_json.moisture }}'

  - platform: mqtt
    state_topic: 'miflora/gruenlilie'
    name: 'Grünlilie Temperature'
    unit_of_measurement: '°C'
    value_template: '{{ value_json.temperature }}'

  - platform: mqtt
    state_topic: 'miflora/gruenlilie'
    name: 'Grünlilie Light'
    unit_of_measurement: 'lx'
    value_template: '{{ value_json.light }}'

  # - platform: mqtt
  #   state_topic: 'home/livingroom'
  #   name: 'Living Room Humidity'
  #   unit_of_measurement: '%'
  #   value_template: '{{ value_json.humidity }}'
  # 
  # - platform: mqtt
  #   state_topic: 'home/livingroom'
  #   name: 'Living Room Temperature'
  #   unit_of_measurement: '°C'
  #   value_template: '{{ value_json.temperature }}'


    ## FEINSTAUB SENSOR
    # ==================
  - platform: mqtt
    state_topic: 'outside/feinstaub'
    name: 'Feinstaub PM10'
    unit_of_measurement: 'µg/m³'
    value_template: '{{ value_json.sensordatavalues[0].value }}'

  - platform: mqtt
    state_topic: 'outside/feinstaub'
    name: 'Feinstaub PM2.5'
    unit_of_measurement: 'µg/m³'
    value_template: '{{ value_json.sensordatavalues[1].value }}'

  - platform: mqtt
    state_topic: 'outside/feinstaub'
    name: 'Feinstaub Temperature'
    unit_of_measurement: '°C'
    value_template: '{{ value_json.sensordatavalues[2].value }}'

  - platform: mqtt
    state_topic: 'outside/feinstaub'
    name: 'Feinstaub Humidity'
    unit_of_measurement: '%'
    value_template: '{{ value_json.sensordatavalues[3].value }}'

