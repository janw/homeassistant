# Sensors and other inputs

  - platform: darksky
    api_key: !secret darksky_api_key
    monitored_conditions:
      - summary
      - icon
      - precip_intensity
      - precip_probability
      - temperature
      - dew_point
      - wind_speed
      - cloud_cover
      - humidity
      - pressure

  - platform: template
    sensors:
      sunrise:
        value_template: '{{ states.sun.sun.attributes.next_rising }}'
      sunset:
        value_template: '{{ states.sun.sun.attributes.next_setting }}'
      current_title:
        friendly_name: 'Current Title'
        value_template: '{{ states.media_player.apple_tv.attributes.media_title }}'

  - platform: speedtest
    monitored_conditions:
     - ping
     - download
     - upload
    minute:
      - 15
      - 45

  - platform: fastdotcom
    minute:
      - 0
      - 30

  - platform: command_line
    scan_interval: 360
    name: Ping 1und1
    command: ping -qc 3 1und1.de | tail -1 | cut -d '/' -f 5
    value_template: "{{ value | float }}"
    unit_of_measurement: ms

  - platform: mysonarr
    api_key: d2273149b4d74f5e8eab6819dcaf5f7e
    host: "sonarr"
    port: 8989
    monitored_conditions:
      - upcoming
    days: 3

  - platform: mqtt
    state_topic: 'home/bedroom'
    name: 'Bedroom Temperature'
    unit_of_measurement: '°C'
    value_template: '{{ value_json.temperature }}'
  - platform: mqtt
    state_topic: 'home/bedroom'
    name: 'Bedroom Humidity'
    unit_of_measurement: '%'
    value_template: '{{ value_json.humidity }}'

  - platform: mqtt
    state_topic: 'home/bathroom'
    name: 'Temperature MQTT Ba'
    unit_of_measurement: '°C'
    value_template: '{{ value_json.temperature }}'
  - platform: mqtt
    state_topic: 'home/bathroom'
    name: 'Humidity MQTT Ba'
    unit_of_measurement: '%'
    value_template: '{{ value_json.humidity }}'

  - platform: mqtt
    state_topic: 'miflora/drachenbaum'
    name: 'Drachenbaum Moisture'
    unit_of_measurement: '%'
    value_template: '{{ value_json.moisture }}'
  - platform: mqtt
    state_topic: 'miflora/drachenbaum'
    name: 'Drachenbaum Light'
    unit_of_measurement: 'lx'
    value_template: '{{ value_json.light }}'

  - platform: mqtt
    state_topic: 'miflora/feinblatt'
    name: 'Feinblatt Moisture'
    unit_of_measurement: '%'
    value_template: '{{ value_json.moisture }}'
  - platform: mqtt
    state_topic: 'miflora/feinblatt'
    name: 'Feinblatt Light'
    unit_of_measurement: 'lx'
    value_template: '{{ value_json.light }}'

  - platform: mqtt
    state_topic: 'home/livingroom'
    name: 'Living Room Humidity'
    unit_of_measurement: '%'
    value_template: '{{ value_json.humidity }}'

  - platform: mqtt
    state_topic: 'home/livingroom'
    name: 'Living Room Temperature'
    unit_of_measurement: '°C'
    value_template: '{{ value_json.temperature }}'

  - platform: dht
    name: 'Office'
    sensor: DHT22
    pin: 10
    monitored_conditions:
      - temperature
      - humidity



    ## FEINSTAUB SENSOR
    # ==================
  - platform: mqtt
    state_topic: 'outside/feinstaub'
    name: 'Feinstaub PM10'
    unit_of_measurement: 'µg/m³'
    value_template: '{{ value_json.sensordatavalues[0].value }}'

  - platform: mqtt
    state_topic: 'outside/feinstaub'
    name: 'Feinstaub PM2.5'
    unit_of_measurement: 'µg/m³'
    value_template: '{{ value_json.sensordatavalues[1].value }}'

  - platform: mqtt
    state_topic: 'outside/feinstaub'
    name: 'Feinstaub Temperature'
    unit_of_measurement: '°C'
    value_template: '{{ value_json.sensordatavalues[2].value }}'

  - platform: mqtt
    state_topic: 'outside/feinstaub'
    name: 'Feinstaub Humidity'
    unit_of_measurement: '%'
    value_template: '{{ value_json.sensordatavalues[3].value }}'

    ## FRITZBOX
    # ==========
  # - platform: fritzbox_callmonitor
  #   host: 10.10.0.1
  # - platform: fritzbox_netmonitor
  #   host: 10.10.0.1


